!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("evolve"),require("detector")):"function"==typeof define&&define.amd?define(["evolve","detector"],t):"object"==typeof exports?exports["genesi-js"]=t(require("evolve"),require("detector")):e["genesi-js"]=t(e.evolve,e.detector)}(this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s,a,r,u,c,l,h,f,d,p,v;Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=t.Managers=t.Helpers=t.Constants=t.Components=t.Elements=t.Sound=t.Preload=t.Anim=t.Draw=t.Core=void 0,o=n(2),s=n(1),a=i(s),r=n(3),u=i(r),c=n(9),l=i(c),h=n(4),f=i(h),d=n(7),p=i(d),v={Core:a.default,Draw:o.Draw,Anim:o.Anim,Preload:o.Preload,Sound:o.Sound,Elements:o.Elements,Components:o.Components,Constants:u.default,Helpers:l.default,Managers:f.default,Engine:p.default},t.default=v,t.Core=a.default,t.Draw=o.Draw,t.Anim=o.Anim,t.Preload=o.Preload,t.Sound=o.Sound,t.Elements=o.Elements,t.Components=o.Components,t.Constants=u.default,t.Helpers=l.default,t.Managers=f.default,t.Engine=p.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s,a,r;Object.defineProperty(t,"__esModule",{value:!0}),o=n(2),s=n(5),a=i(s),r={EventDispatcher:o.Core.EventDispatcher,Event:o.Core.Event,ErrorEvent:o.Core.ErrorEvent,MouseEvent:o.Core.MouseEvent,ProgressEvent:o.Core.ProgressEvent,BrowserDetect:o.Core.BrowserDetect,Ticker:o.Core.Ticker,Exception:a.default,Touch:o.Core.Touch,UID:o.Core.UID},t.default=r},function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s;Object.defineProperty(t,"__esModule",{value:!0}),o=n(1),s=i(o),t.default={HORIZONTAL_MODES:["left","center","right"],VERTICAL_MODES:["top","middle","bottom"],TOP_LEFT:"topleft",TOP_RIGHT:"topright",BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright",TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",CENTER:"center",MIDDLE:"middle",HORIZONTAL:"horizontal",VERTICAL:"vertical",LEFT_TO_RIGHT:12,RIGHT_TO_LEFT:13,TOP_TO_BOTTOM:14,BOTTOM_TO_TOP:15,STRETCH:16,FIT:17,FILL:18,NOSCALE:19,DEGREES:57.2957795,RADIANS:.0174532925,PI2:6.2831853071,DEFAULT_CONFIG:{editor:!1,debug:!1,canvas:{selector:".game-canvas",ar:{width:1920,height:1080}},ticker:{FPS:60,showFPS:!0,timingMode:s.default.Ticker.RAF},locale:"it"}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s,a,r,u,c,l,h,f,d,p,v,g,y,_,b,m;Object.defineProperty(t,"__esModule",{value:!0}),t.TickerManager=t.StatusManager=t.SoundsManager=t.LocalesManager=t.EnvironmentManager=t.DisplayManager=t.ConfigManager=t.AssetsManager=void 0,o=n(10),s=i(o),a=n(11),r=i(a),u=n(12),c=i(u),l=n(13),h=i(l),f=n(14),d=i(f),p=n(15),v=i(p),g=n(16),y=i(g),_=n(17),b=i(_),m={Assets:s.default,Config:r.default,Display:c.default,Environment:h.default,Locales:d.default,Sounds:v.default,Status:y.default,Ticker:b.default},t.default=m,t.AssetsManager=s.default,t.ConfigManager=r.default,t.DisplayManager=c.default,t.EnvironmentManager=h.default,t.LocalesManager=d.default,t.SoundsManager=v.default,t.StatusManager=y.default,t.TickerManager=b.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,o;Object.defineProperty(t,"__esModule",{value:!0}),i=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Core",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Generic Exception",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,e),this._module=t,this._description=i,this._data=o}return i(e,[{key:"module",get:function(){return this._module},set:function(e){this._module=e}},{key:"description",get:function(){return this._description},set:function(e){this._description=e}},{key:"message",get:function(){return"GenesiJS Exception: "+this._module+" - "+this._description}}]),e}(),t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l,h,f,d,p,v;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),c=n(1),l=i(c),h=n(3),f=i(h),d=n(4),p=i(d),v=function(e){function t(e){var n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return o(this,t),n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=0,n.getNewID=function(){return++i},n.init(e,a,r),n}return a(t,e),r(t,[{key:"initDisplay",value:function(){var e=this;return this.DISPLAY=new p.default.Display(this.CONFIG.get("canvas")),new Promise(function(t,n){e.CANVAS=document.querySelector(e.CONFIG.get("canvas.selector")),e.STAGE=new u.Elements.StageElement(e.CANVAS,{size:{width:e.DISPLAY.get("canvas.width",1280),height:e.DISPLAY.get("canvas.height",720)}}),Function.isFunction(t)&&t()})}},{key:"initTicker",value:function(){var e=this;return new Promise(function(t,n){e.TICKER=new p.default.Ticker(e.CONFIG.get("ticker")),e.TICKER.on("ticker",e.onTicker.bind(e)),Function.isFunction(t)&&t()})}},{key:"addChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&t?(this[e]=new t(n.inherit({parent:this.STAGE})),this[e]):null}},{key:"removeChild",value:function(e){String.isString(e)?(this.STAGE.removeChild(this[e]),this[e]=null):e instanceof u.Elements.Element&&(this.STAGE.removeChild(e),e=null)}},{key:"preload",value:function(e){var t=this;return new Promise(function(n,i){t.addChild("preloaderElement",u.Preload.PreloaderElement,{size:"100%",align:"center middle",manifests:e}).on("preloader.preloaded",function(e){t.ASSETS=new p.default.Assets(e.assets),u.Anim.Tween.get(t.preloaderElement).to({alpha:0},350,u.Anim.Ease.linear).call(function(){t.removeChild("preloaderElement"),t.CONFIG.get("ticker.showFPS")&&t.addChild("showFPSText",u.Elements.TextElement,{text:"FPS",font:"25px Verdana",align:"top right",textAlign:"right"}),Function.isFunction(n)&&n(e.assets)})})})}},{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.STATUS=new p.default.Status("init","initializing"),this.ENVIRONMENT=new p.default.Environment,this.CONFIG=new p.default.Config(e),this.LOCALES=new p.default.Locales(i),this.initDisplay().then(function(){return t.initTicker()}).then(function(){return t.onResize(),t.bindEvents(),t.preload(n)}).then(function(e){t.postInit(e)})}},{key:"onTicker",value:function(e){this.CONFIG.get("ticker.showFPS")&&this.showFPSText&&this.showFPSText.setText(e.measuredFPS.toFixed(3)+" FPS"),this.STAGE.update()}},{key:"onResize",value:function(){this.CANVAS&&(this.DISPLAY.update(),this.STAGE&&(u.Elements.Helpers.scale(this.STAGE,this.DISPLAY.get("scale")),this.STAGE.update()))}},{key:"bindEvents",value:function(){this.DISPLAY.on("resized",this.onResize.proxy(this))}},{key:"postInit",value:function(e){}}]),t}(l.default.EventDispatcher),t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0,o=n(6),s=i(o),a={Game:s.default},t.default=a,t.Game=s.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e)};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),o=n(8),s=i(o),a={Ajax:s.default},t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=i(u),l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{images:{},spritesheets:{},sounds:{}};return o(this,t),e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e._images=n.images,e._spritesheets=n.spritesheets,e._sounds=n.sounds,e.init(),e}return a(t,e),r(t,[{key:"getImage",value:function(e){return this.images.path(e,null)}},{key:"getSpritesheet",value:function(e){return this.spritesheets.path(e,null)}},{key:"getSound",value:function(e){return this.sounds.path(e,null)}},{key:"addImage",value:function(e,t){this.images[e]=t,this.dispatchEvent({type:"imagesChange",images:this.images})}},{key:"removeImage",value:function(e){delete this.images[e],this.dispatchEvent({type:"imagesChange",images:this.images})}},{key:"addSpritesheets",value:function(e,t){this.spritesheets[e]=t,this.dispatchEvent({type:"spritesheetsChange",spritesheets:this.spritesheets})}},{key:"removeSpritesheet",value:function(e){delete this.spritesheets[e],this.dispatchEvent({type:"spritesheetsChange",spritesheets:this.spritesheets})}},{key:"addSound",value:function(e,t){this.sounds[e]=t,this.dispatchEvent({type:"soundsChange",sounds:this.sounds})}},{key:"removeSound",value:function(e){delete this.sounds[e],this.dispatchEvent({type:"soundsChange",sounds:this.sounds})}},{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){this.on("imagesChange",this.onImagesChange.bind(this)),this.on("spritesheetsChange",this.onSpritesheetsChange.bind(this)),this.on("soundsChange",this.onSoundsChange.bind(this)),this.on("assetsChange",this.onAssetsChange.bind(this))}},{key:"onImagesChange",value:function(e){this.dispatchEvent("assetsChange")}},{key:"onSpritesheetsChange",value:function(e){this.dispatchEvent("assetsChange")}},{key:"onSoundsChange",value:function(e){this.dispatchEvent("assetsChange")}},{key:"onAssetsChange",value:function(e){this.dispatchEvent({type:"assetsChanged",assets:this.toJS()})}},{key:"toJS",value:function(){return{images:this.images,spritesheets:this.spritesheets,sounds:this.sounds}}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"images",get:function(){return this._images},set:function(e){this._images=e,this.dispatchEvent({type:"imagesChange",images:this._images})}},{key:"spritesheets",get:function(){return this._spritesheets},set:function(e){this._spritesheets=e,this.dispatchEvent({type:"spritesheetsChange",spritesheets:this._spritesheets})}},{key:"sounds",get:function(){return this._sounds},set:function(e){this._sounds=e,this.dispatchEvent({type:"soundsChange",sounds:this._sounds})}}]),t}(c.default.EventDispatcher),t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l,h,f;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),l=n(1),h=i(l),f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(this,t),e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e._config={}.inherit(c.default.DEFAULT_CONFIG,n,{canvas:{ar:{width:Number.isNumber(n.canvas.width)?n.canvas.width:c.default.DEFAULT_CONFIG.canvas.width,height:Number.isNumber(n.canvas.height)?n.canvas.height:c.default.DEFAULT_CONFIG.canvas.height}},ticker:{FPS:Number.isNumber(n.ticker.FPS)?n.ticker.FPS:c.default.DEFAULT_CONFIG.ticker.FPS}}),e.init(),e}return a(t,e),r(t,[{key:"get",value:function(e){return this._config.path(e,null)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.get(e);i&&(n?i.inherit(t):i=t),this.dispatchEvent({type:"configChange",config:this.toJS()})}},{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){this.on("configChange",this.onConfigChange.bind(this))}},{key:"onConfigChange",value:function(e){this.dispatchEvent({type:"configChanged",config:e.config})}},{key:"toJS",value:function(){return this._config}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.dispatchEvent({type:"configChange",config:this._config})}}]),t}(h.default.EventDispatcher),t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l,h;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),c=n(1),l=i(c),h=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selector:".game-canvas",width:1280,height:720},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{smoothing:!1,crisp:!1,bicubic:!1,userSelect:!1,touch:!0,fullscreen:!1};return o(this,t),e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e._data={canvas:n,options:i},e.init(),e}return a(t,e),r(t,[{key:"get",value:function(e){return this._data.path(e,null)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.get(e);i&&(n?i.inherit(t):i=t),this.dispatchEvent({type:"dataChange",data:this._data})}},{key:"initCanvas",value:function(){this._canvas=document.querySelector(this.get("canvas.selector",".game-canvas")),this._context=this._canvas.getContext("2d"),this.setSmoothing(),this.setCrisp(),this.setBicubic(),this.setUserSelect(),this.setTouch()}},{key:"initFullscreen",value:function(){this._fullscreenRequest=this._canvas.requestFullcreen||this._canvas.webkitRequestFullscreen||this._canvas.msRequestFullscreen||this._canvas.mozRequestFullScreen,this._fullscreenCancel=document.cancelFullScreen||document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.msCancelFullScreen||document.msExitFullscreen||document.mozCancelFullScreen||document.mozExitFullscreen}},{key:"setSmoothing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===e&&(e=this.get("options.smoothing")),this._context.imageSmoothingEnabled=e,this._context.mozImageSmoothingEnabled=e,this._context.oImageSmoothingEnabled=e,this._context.webkitImageSmoothingEnabled=e,this._context.msImageSmoothingEnabled=e}},{key:"setCrisp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===e&&(e=this.get("options.crisp")),e&&(this._canvas.style["image-rendering"]="optimizeSpeed",this._canvas.style["image-rendering"]="crisp-edges",this._canvas.style["image-rendering"]="-moz-crisp-edges",this._canvas.style["image-rendering"]="-webkit-optimize-contrast",this._canvas.style["image-rendering"]="optimize-contrast",this._canvas.style.msInterpolationMode="nearest-neighbor")}},{key:"setBicubic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===e&&(e=this.get("options.bicubic")),e&&(this._canvas.style["image-rendering"]="auto",this._canvas.style.msInterpolationMode="bicubic")}},{key:"setUserSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";void 0===e&&(e=this.get("options.userSelect")),this._canvas.style["-webkit-touch-callout"]=e,this._canvas.style["-webkit-user-select"]=e,this._canvas.style["-khtml-user-select"]=e,this._canvas.style["-moz-user-select"]=e,this._canvas.style["-ms-user-select"]=e,this._canvas.style["user-select"]=e,this._canvas.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)"}},{key:"setTouch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";void 0===e&&(e=this.get("options.touch")),this._canvas.style.msTouchAction=e,this._canvas.style["ms-touch-action"]=e,this._canvas.style["touch-action"]=e}},{key:"init",value:function(){this.initCanvas(),this.initFullscreen(),this.update(),this.bindEvents()}},{key:"updateSize",value:function(){var e=Math.min(window.innerWidth/this.data.canvas.width,window.innerHeight/this.data.canvas.height);this.set("canvas",{scale:e,scaledWidth:this.data.canvas.width*e,scaledHeight:this.data.canvas.height*e},!0),u.Elements.Helpers.setBoxSize(this._canvas,this.get("canvas.scaledWidth"),this.get("canvas.scaledHeight"),!0)}},{key:"updateOrientation",value:function(){this.orientation=0,window.orientation?this.orientation=window.orientation:window.outerWidth>window.outerHeight&&(this.orientation=90)}},{key:"getOrientation",value:function(){return this.isPortrait()?"portrait":"landscape"}},{key:"update",value:function(){this.updateSize(),this.updateOrientation()}},{key:"bindEvents",value:function(){this.on("dataChange",this.onDataChange.bind(this)),window.addEventListener("resize",this.onResize.bind(this),!1),window.addEventListener("orientationchange",this.onOrientationChange.bind(this),!1),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange.bind(this),!1),document.addEventListener("mozfullscreenchange",this.onFullscreenChange.bind(this),!1),document.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this),!1)}},{key:"onDataChange",value:function(e){this.dispatchEvent({type:"dataChanged",data:e.data})}},{key:"onResize",value:function(e){this.updateSize(),this.dispatchEvent({type:"resized"})}},{key:"onOrientationChange",value:function(e){this.updateOrientation(),this.dispatchEvent({type:"orientationChanged",orientation:this.getOrientation()})}},{key:"onFullscreenChange",value:function(e){this.dispatchEvent({type:"fullscreenChanged",fullscreen:this.isFullscreen()})}},{key:"isPortrait",value:function(){return[0,180].contains(this.orientation)}},{key:"isLandscape",value:function(){return[90,-90].contains(this.orientation)}},{key:"isFullscreen",value:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},{key:"startFullscreen",value:function(){this._fullscreenRequest&&!this.isFullscreen()&&(window.Element&&window.Element.ALLOW_KEYBOARD_INPUT?this._fullscreenRequest(window.Element.ALLOW_KEYBOARD_INPUT):this._fullscreenRequest())}},{key:"stopFullscreen",value:function(){this._fullscreenCancel&&this.isFullscreen()&&this._fullscreenCancel()}},{key:"toJS",value:function(){return this._data}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"data",get:function(){return this._data},set:function(e){this._data=e,this.dispatchEvent({type:"dataChange",data:this._data})}}]),t}(l.default.EventDispatcher),t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l,h,f;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(18),c=i(u),l=n(1),h=i(l),f=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._data=c.default,e.init(),e}return a(t,e),r(t,[{key:"get",value:function(e){return this._data.path(e,null)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.get(e);i&&(n?i.inherit(t):i=t),this.dispatchEvent({type:"dataChange",data:this._data})}},{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){this.on("dataChange",this.onDataChange.bind(this))}},{key:"onDataChange",value:function(e){this.dispatchEvent({type:"dataChanged",data:e.data})}},{key:"toJS",value:function(){return this._data}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"data",get:function(){return this._data},set:function(e){this._data=e,this.dispatchEvent({type:"dataChange",data:this._data})}}]),t}(h.default.EventDispatcher),t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=i(u),l=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._locales=e,n.init(),n}return a(t,e),r(t,[{key:"get",value:function(e){return this._locales.path(e,null)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.get(e);i&&(n?i.inherit(t):i=t),this.dispatchEvent({type:"localesChange",locales:this._locales})}},{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){this.on("localesChange",this.onLocalesChange.bind(this))}},{key:"onLocalesChange",value:function(e){this.dispatchEvent({type:"localesChanged",locales:e.locales})}},{key:"toJS",value:function(){return{locales:this._locales}}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"locales",get:function(){return this._locales},set:function(e){this._locales=e,this.dispatchEvent({type:"localesChange",locales:this._locales})}}]),t}(c.default.EventDispatcher),t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l,h;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),c=n(1),l=i(c),h=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.Sound.Sound.initializeDefaultPlugins(),e}return a(t,e),r(t,[{key:"volume",get:function(){return u.Sound.Sound.volume},set:function(e){u.Sound.Sound.volume=e}},{key:"muted",get:function(){return u.Sound.Sound.muted},set:function(e){u.Sound.Sound.muted=e}}]),t}(l.default.EventDispatcher),t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=i(u),l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return o(this,t),e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e._status=n,e._phase=i,e.init(),e}return a(t,e),r(t,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";this._status=e,this._phase=t,this.dispatchEvent({type:"statusChange",status:this.toJS()})}},{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){this.on("statusChange",this.onStatusChange.bind(this))}},{key:"onStatusChange",value:function(e){this.dispatchEvent({type:"statusChanged",status:e.status})}},{key:"toJS",value:function(){return{status:this._status,phase:this._phase}}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"status",get:function(){return this._status},set:function(e){this._status=e,this.dispatchEvent({type:"statusChange",status:this.toJS()})}},{key:"phase",get:function(){return this._phase},set:function(e){this._phase=e,this.dispatchEvent({type:"statusChange",status:this.toJS()})}}]),t}(c.default.EventDispatcher),t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,u,c,l;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=i(u),l=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.defaults={FPS:30,showFPS:!1,timingMode:c.default.Ticker.RAF},n.settings=n.defaults.inherit(!0,e),n._FPS=n.settings.FPS,n._showFPS=n.settings.showFPS,n._timingMode=c.default.Ticker[n.settings.timingMode],n._delta=0,n.init(),n}return a(t,e),r(t,[{key:"init",value:function(){c.default.Ticker.framerate=this._FPS,c.default.Ticker.timingMode=this._timingMode,this.bindEvents()}},{key:"bindEvents",value:function(){c.default.Ticker.on("tick",this.onTick.bind(this))}},{key:"onTick",value:function(e){this._delta=e.delta,this.dispatchEvent({type:"ticker"}.inherit(this.toJS()))}},{key:"toJS",value:function(){return{FPS:this._FPS,showFPS:this._showFPS,measuredFPS:c.default.Ticker.getMeasuredFPS(),timingMode:this._timingMode,time:c.default.Ticker.getTime(),eventTime:c.default.Ticker.getEventTime(),measuredTickTime:c.default.Ticker.getMeasuredTickTime(),ticks:c.default.Ticker.getTicks(),delta:this._delta,deltaSecs:this.deltaSecs}}},{key:"toJSON",value:function(){return JSON.stringify(this.toJS())}},{key:"FPS",get:function(){return this._FPS},set:function(e){this._FPS=e}},{key:"showFPS",get:function(){return this._showFPS},set:function(e){this._showFPS=e}},{key:"timingMode",get:function(){return this._timingMode},set:function(e){this._timingMode=e}},{key:"delta",get:function(){return this._delta},set:function(e){this._delta=e}},{key:"deltaSecs",get:function(){return this._delta/1e3}}]),t}(c.default.EventDispatcher),t.default=l},function(e,n){e.exports=t}])});
//# sourceMappingURL=genesi.js.map